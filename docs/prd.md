# 【POC 需求说明】—「古籍竖排简体文字生成工具」
版本：v0.2 日期：YYYY-MM-DD

## 1. 目标
在 7 天内交付一条最小可运行链路：
输入「扫描版单页 PDF（300 DPI，A4 以内）」
→ 输出「竖排简体列（可搜索文字，列数、字数与原书一致）」PDF。

## 2. 范围（仅保留关键功能）
- P0 PDF 拆页与基本信息读取
  - 将扫描版 PDF 拆为单页光栅图，获取 DPI / 页面尺寸。
- P1 图像预处理
  - 灰度化、二值化，可选倾斜校正（手动参数）。
- P2 列检测与裁切
  - 支持检测 2–6 列，误差可接受 ≤ ±2 字宽。
- P3 竖排 OCR（繁体输出）
  - 采用现成开源模型，目标正确率 ≥ 80%（示范页）。
- P4 繁→简体转换
  - 使用 OpenCC，确保转换后字符数不变。
- P5 竖排排版（简体文字）
  - 输出 PDF，仅包含竖排简体文字，列数、每列字数及列间距需与原书保持一致。
  - 简体文字可全文搜索。
- P6 CLI 验证命令
  - `boocr poc --input <in.pdf> --output <out.pdf>`
  - 运行完毕终端提示"DONE"并生成仅含简体文字的 PDF。

【删除/延迟的功能】
- 多页批处理与断点续跑
- meta.json、日志彩色美化
- 性能与资源指标、异常恢复
- GUI、安装脚本、CI/CD

## 3. 输入 / 输出规格
- 输入：扫描版单页 PDF，300 DPI，A4 以内。
- 输出：`page_simplified.pdf`，尺寸与输入相同，竖排简体文字可复制/搜索，排版（列数、字数）与原书一致。

## 4. 验收标准
- A. 样例图片（提供 3 页）全部生成对应的单列/多列简体文字 PDF。
- B. 目测 OCR 准确率 ≧ 80%，排版正确（列数、分列位置）。
- C. 生成 PDF 中每列字数与原书对应列一致，且可全文搜索。
- D. 终端无未捕获异常，返回码 0。

## 5. 里程碑（7 天）
- D1（+1 天） 项目骨架 & CLI 雏形
- D2（+3 天） PDF 拆页 + 图像预处理 + 列检测可视化
- D3（+5 天） OCR + 繁→简转换 + 坐标映射贯通
- D4（+7 天） 双列 PDF 排版输出 & 简要文档
