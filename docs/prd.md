# 【POC 需求说明】—「古籍竖排繁‧简对照生成工具」
版本：v0.2 日期：YYYY-MM-DD

## 1. 目标
在 7 天内交付一条最小可运行链路：
输入「扫描版单页 PDF（300 DPI，A4 以内）」
→ 输出「繁体列（竖排图像）+ 简体列（竖排可搜索文字）」对照 PDF。

## 2. 范围（仅保留关键功能）
- P0 PDF 拆页与基本信息读取
  - 将扫描版 PDF 拆为单页光栅图，获取 DPI / 页面尺寸。
- P1 图像预处理
  - 灰度化、二值化，可选倾斜校正（手动参数）。
- P2 列检测与裁切
  - 支持检测 2–6 列，误差可接受 ≤ ±2 字宽。
- P3 竖排 OCR（繁体输出）
  - 采用现成开源模型，目标正确率 ≥ 80%（示范页）。
- P4 繁→简体转换
  - 使用 OpenCC，保持字符数一致。
- P5 双列排版（右繁图像 + 左简文字，列间距 20 px）
  - 输出 PDF，简体文字可全文搜索；繁体保持原图像。
- P6 CLI 验证命令
  - `boocr poc --input <in.pdf> --output <out.pdf>`
  - 运行完毕终端提示"DONE"并生成对照 PDF。

【删除/延迟的功能】
- 多页批处理与断点续跑
- meta.json、日志彩色美化
- 性能与资源指标、异常恢复
- GUI、安装脚本、CI/CD

## 3. 输入 / 输出规格
- 输入：扫描版单页 PDF，300 DPI，A4 以内。
- 输出：`page_dual.pdf`，尺寸与输入相同，简体文本可复制/搜索。

## 4. 验收标准
- A. 样例图片（提供 3 页）全部生成对应双列 PDF。
- B. 目测 OCR 准确率 ≧ 80%，基本版面正确。
- C. 终端无未捕获异常，返回码 0。

## 5. 里程碑（7 天）
- D1（+1 天） 项目骨架 & CLI 雏形
- D2（+3 天） PDF 拆页 + 图像预处理 + 列检测可视化
- D3（+5 天） OCR + 繁→简转换 + 坐标映射贯通
- D4（+7 天） 双列 PDF 排版输出 & 简要文档
